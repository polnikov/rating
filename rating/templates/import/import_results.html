{% extends 'base.html' %}

{% load static %}

{% block title %}Импорт оценок{% endblock %}

{% block content %}

<div class="ui container center aligned">
   <div class="ui grid center aligned">
      <div class="ui row">
         <div class="ui basic segment center aligned" style="margin-top: 100px; width: 400px">
            <h4 class="ui dividing header">Загрузите ведомость EXCEL в формате [xls]</h4>
            <h2><i class="file excel green big icon"></i></h2>

            <form method="post" enctype="multipart/form-data" class="ui form">
               {% csrf_token %}
               <div class="ui file input small">
                  <input name="import_file" type="file" multiple style="width: 400px">
               </div>
               <div class="ui horizontal divider"></div>
               <!-- Button's -->
               <a href="javascript:history.go(-1)">
                  <button class="ui button center small aligned" type="button" style="font-family: Hack"><i class="times circle icon"></i>Отмена</button>
               </a>
               <button class="ui primary button center small aligned" type="submit" style="font-family: Hack"><i class="icon download"></i>Загрузить</button>
            </form>
         </div>
      </div>

      <div class="ui row">
         <div class="ui basic segment center aligned" style="width: 700px">
            {% if file_validation_exist == False %}
               <i class="times red icon"></i><font color="red">Ничего не выбрано для импорта!</font>
            {% elif file_validation_format == False %}
               <i class="times red icon"></i><font color="red">Проверьте формат импортируемых файлов!</font>
            {% elif check_mark_formcontrol == False %}
               <i class="times red icon"></i><font color="red">Оценки не соответствуют форме контроля назначенной дисциплины!</font>
            {% elif errors %}
                  <i class="times red icon"></i><font color="red">Возникли следующие ошибки:</font>
                  <div class="ui list left aligned">
                     {% for error in errors %}
                        <div class="item" align="left">
                           <i class="bug red icon"></i>{{ error }}
                        </div>
                     {% endfor %}
                  </div>
            {% elif success %}
               <div class="extra content center aligned">
                  <i class="check green icon"></i><font color="green">Все данные были успешно импортированы!</font>
               </div>
            {% endif %}
         </div>
      </div>
   </div>
</div>

<script type="text/javascript" src="{% static 'js/script.js' %}"></script>
<script type="text/javascript">
   changeFileInputFont();
</script>

{% endblock %}
